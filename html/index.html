<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- custom css file link  -->
    <link rel="stylesheet" href="/css/shop_payment.css">
    
    <style>
        /* Add your custom styles here */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div class="container">

    <form id="checkout-form">

        <div class="row">

            <div class="col">

                <h3 class="title">billing address</h3>

                <div class="inputBox">
                    <span>full name :</span>
                    <input type="text" placeholder="Name" required pattern="[A-Za-z]+">
                </div>
                <div class="inputBox">
                    <span>email :</span>
                    <input type="email" placeholder="Email" required>
                </div>
                <div class="inputBox">
                    <span>address :</span>
                    <input type="text" placeholder="Street" required pattern="[A-Za-z]+">
                </div>
                <div class="inputBox">
                    <span>city :</span>
                    <input type="text" placeholder="City" required pattern="[A-Za-z]+">
                </div>

                <div class="flex">
                    <div class="inputBox">
                        <span>state :</span>
                        <input type="text" placeholder="Country" required pattern="[A-Za-z]+">
                    </div>
                    <div class="inputBox">
                        <span>zip code :</span>
                        <input type="number" placeholder="Code" required pattern="^[0-9]*$">
                    </div>
                </div>

            </div>

            <div class="col">

                <h3 class="title">payment</h3>

                <div class="inputBox">
                    <span>cards accepted :</span>
                    <img src="/images/card_img.png" alt="">
                </div>
                <div class="inputBox">
                    <span>name on card :</span>
                    <input type="text" placeholder="Name" required pattern="[A-Za-z]+">
                </div>
                <div class="inputBox">
                    <span>credit card number :</span>
                    <input type="number" placeholder="Card Number " required pattern="^[0-9-]*$">
                </div>
                <div class="inputBox">
                    <span>exp month :</span>
                    <input type="text" placeholder="Exp date" required>
                </div>

                <div class="flex">
                    <div class="inputBox">
                        <span>exp year :</span>
                        <input type="number" placeholder="exp year" required pattern="^[0-9]*$">
                    </div>
                    <div class="inputBox">
                        <span>CVV :</span>
                        <input type="number" placeholder="CVV" required pattern="^[0-9]*$">
                    </div>
                </div>

            </div>
    
        </div>

        <input type="submit" value="proceed to checkout" class="submit-btn">

    </form>

    <div id="payment-success" class="hidden">
        <p>Payment was successful! Thank you for your purchase.</p>
    </div>

</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const checkoutForm = document.getElementById("checkout-form");
        const paymentSuccessMessage = document.getElementById("payment-success");

        checkoutForm.addEventListener("submit", function (e) {
            e.preventDefault(); // Prevent the form from submitting and reloading the page

            // Simulate a payment success (you can replace this with your actual payment processing logic)
            const isPaymentSuccessful = true;

            if (isPaymentSuccessful) {
                paymentSuccessMessage.style.display = "block"; // Show the payment success message
                checkoutForm.style.display = "none"; // Hide the form
            }
        });

        // Dynamically validate input based on field type
        const numericFields = checkoutForm.querySelectorAll('input[type="number"]');
        const stringFields = checkoutForm.querySelectorAll('input[type="text"]');
        for (const field of numericFields) {
            field.addEventListener("input", function () {
                if (isNaN(field.value)) {
                    field.setCustomValidity("Please enter a numeric value.");
                } else {
                    field.setCustomValidity("");
                }
            });
        }
        for (const field of stringFields) {
            field.addEventListener("input", function () {
                if (!isNaN(field.value)) {
                    field.setCustomValidity("Please enter a string value.");
                } else {
                    field.setCustomValidity("");
                }
            });
        }
    });
</script>

</body>
</html>